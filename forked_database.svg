<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="164.88196mm"
   height="48.14893mm"
   viewBox="0 0 164.88196 48.14893"
   version="1.1"
   id="svg5"
   inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"
   sodipodi:docname="forked_database.svg"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:zoom="1.5981902"
     inkscape:cx="282.50704"
     inkscape:cy="46.302373"
     inkscape:window-width="1920"
     inkscape:window-height="1055"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1"
     showguides="false">
    <sodipodi:guide
       position="121.59477,43.003499"
       orientation="1,0"
       id="guide1460"
       inkscape:locked="false" />
  </sodipodi:namedview>
  <defs
     id="defs2" />
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-5.2704132,-33.3869)">
    <rect
       style="fill:none;stroke:#000000;stroke-width:0.264583;stroke-opacity:1"
       id="rect111"
       width="104.9642"
       height="28.828312"
       x="5.4027047"
       y="52.575226"
       rx="3"
       ry="3" />
    <text
       xml:space="preserve"
       style="font-size:3.175px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583;stroke-opacity:1"
       x="7.3647275"
       y="57.969315"
       id="text1290"><tspan
         sodipodi:role="line"
         id="tspan1288"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:monospace;-inkscape-font-specification:monospace;stroke-width:0.264583"
         x="7.3647275"
         y="57.969315">pub struct <tspan
   style="font-weight:bold"
   id="tspan1302">ForkedDatabase</tspan> {</tspan><tspan
         sodipodi:role="line"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:monospace;-inkscape-font-specification:monospace;stroke-width:0.264583"
         x="7.3647275"
         y="61.938065"
         id="tspan1292">    <tspan
   style="font-weight:bold"
   id="tspan1304">backend</tspan>: SharedBackend,</tspan><tspan
         sodipodi:role="line"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:monospace;-inkscape-font-specification:monospace;stroke-width:0.264583"
         x="7.3647275"
         y="65.906815"
         id="tspan1294">    <tspan
   style="font-weight:bold"
   id="tspan1306">cache_db</tspan>: CacheDB&lt;SharedBackend&gt;, </tspan><tspan
         sodipodi:role="line"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:monospace;-inkscape-font-specification:monospace;stroke-width:0.264583"
         x="7.3647275"
         y="69.875565"
         id="tspan1296">    <tspan
   style="font-weight:bold"
   id="tspan1308">db</tspan>: BlockchainDb,</tspan><tspan
         sodipodi:role="line"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:monospace;-inkscape-font-specification:monospace;stroke-width:0.264583"
         x="7.3647275"
         y="73.844315"
         id="tspan1298">    <tspan
   style="font-weight:bold"
   id="tspan1310">snapshots</tspan>: Arc&lt;Mutex&lt;Snapshots&lt;ForkDbSnapshot&gt;&gt;&gt;,</tspan><tspan
         sodipodi:role="line"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:monospace;-inkscape-font-specification:monospace;stroke-width:0.264583"
         x="7.3647275"
         y="77.813065"
         id="tspan1300">}</tspan></text>
    <path
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.264583;stroke-opacity:1"
       d="M 60.044393,61.069156 H 74.313374 V 38.664631 h 52.551806"
       id="path1365"
       sodipodi:nodetypes="cccc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:3.175px;font-family:monospace;-inkscape-font-specification:monospace;fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.264583;stroke-opacity:1"
       x="75.833023"
       y="35.799156"
       id="text1369"><tspan
         sodipodi:role="line"
         id="tspan1367"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:'DejaVu Serif';-inkscape-font-specification:'DejaVu Serif';fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="75.833023"
         y="35.799156">Load remote state, </tspan><tspan
         sodipodi:role="line"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:'DejaVu Serif';-inkscape-font-specification:'DejaVu Serif';fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="75.833023"
         y="39.84763"
         id="tspan1430" /><tspan
         sodipodi:role="line"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:'DejaVu Serif';-inkscape-font-specification:'DejaVu Serif';fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="75.833023"
         y="43.896103"
         id="tspan1428">always cache the results to <tspan
   style="font-weight:bold"
   id="tspan1458">db</tspan></tspan></text>
    <path
       style="fill:#000000;fill-opacity:1;stroke:#000000;stroke-width:0.264583;stroke-opacity:1"
       d="M 79.448384,65.536563 H 170.15237"
       id="path1371"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:3.175px;font-family:monospace;-inkscape-font-specification:monospace;fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.264583;stroke-opacity:1"
       x="113.56551"
       y="63.48439"
       id="text1375"><tspan
         sodipodi:role="line"
         id="tspan1373"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:'DejaVu Serif';-inkscape-font-specification:'DejaVu Serif';fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="113.56551"
         y="63.48439">Read from backend, </tspan><tspan
         sodipodi:role="line"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:'DejaVu Serif';-inkscape-font-specification:'DejaVu Serif';fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="113.56551"
         y="67.53286"
         id="tspan1520" /></text>
    <path
       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.264583;stroke-opacity:1"
       d="M 47.338815,68.770523 H 101.97853 V 46.193475 h 24.88665"
       id="path1426"
       sodipodi:nodetypes="cccc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:3.175px;font-family:monospace;-inkscape-font-specification:monospace;fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.264583;stroke-opacity:1"
       x="113.56551"
       y="69.568459"
       id="text1528"><tspan
         sodipodi:role="line"
         id="tspan1524"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:'DejaVu Serif';-inkscape-font-specification:'DejaVu Serif';fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="113.56551"
         y="69.568459">Write to internal cache</tspan><tspan
         sodipodi:role="line"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:'DejaVu Serif';-inkscape-font-specification:'DejaVu Serif';fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="113.56551"
         y="73.616928"
         id="tspan1526" /></text>
  </g>
</svg>
